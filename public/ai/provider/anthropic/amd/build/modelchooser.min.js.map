{"version":3,"file":"modelchooser.min.js","sources":["../src/modelchooser.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Model chooser for Anthropic provider.\n *\n * Handles dynamic switching between models and triggers form submission to reload with model-specific settings.\n *\n * @module     aiprovider_anthropic/modelchooser\n * @copyright  2025 Andi Permana <andi.permana@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([], function() {\n    return {\n        /**\n         * Initialize the model chooser.\n         */\n        init: function() {\n            const Selectors = {\n                fields: {\n                    selector: 'select[name=\"modeltemplate\"]',\n                    updateButton: '[data-modelchooser-field=\"updateButton\"]',\n                },\n            };\n\n            const modelSelector = document.querySelector(Selectors.fields.selector);\n\n            if (!modelSelector) {\n                return;\n            }\n\n            // Handle model selection change - trigger form submission to reload with new model settings.\n            modelSelector.addEventListener('change', e => {\n                const form = e.target.closest('form');\n                const updateButton = form.querySelector(Selectors.fields.updateButton);\n\n                if (updateButton) {\n                    // Trigger form submission to reload with selected model's settings.\n                    updateButton.click();\n                }\n            });\n        }\n    };\n});\n"],"names":["define","init","Selectors","selector","updateButton","modelSelector","document","querySelector","addEventListener","e","target","closest","click"],"mappings":";;;;;;;;;AAyBAA,2CAAO,IAAI,iBACA,CAIHC,KAAM,iBACIC,iBACM,CACJC,SAAU,+BACVC,aAAc,4CAIhBC,cAAgBC,SAASC,cAAcL,iBAAiBC,UAEzDE,eAKLA,cAAcG,iBAAiB,UAAUC,UAE/BL,aADOK,EAAEC,OAAOC,QAAQ,QACJJ,cAAcL,iBAAiBE,cAErDA,cAEAA,aAAaQ"}